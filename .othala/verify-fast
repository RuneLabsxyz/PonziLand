#!/usr/bin/env bash
# Fast verification for PonziLand (no postgres required)
# Skips DB-coupled crates/tests to keep Othala lanes reliable

set -euo pipefail

export SQLX_OFFLINE=true

echo "[verify-fast] Starting fast verification (no DB)..."

echo "[verify-fast] Running cargo check..."
cargo check --all-targets

echo "[verify-fast] Running unit tests (workspace, excluding DB-coupled crate)..."
cargo test --workspace --lib --no-default-features --exclude chaindata-repository

echo "[verify-fast] âœ“ Fast verification passed (DB tests skipped)"
