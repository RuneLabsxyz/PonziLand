# PonziLand Development Guide

This document describes the main actions available in the PonziLand smart contract and how to interact with them from your frontend application.

## Game Overview

PonziLand is a blockchain-based game where players can own, trade, and earn from virtual land plots. Each land plot can be purchased using different tokens and generates taxes from neighboring lands. Players must maintain sufficient stake to avoid having their land "nuked" (forcefully removed).

## Core Actions

### Auction
Start a new auction for an unowned land plot. Auctions are the primary mechanism for distributing new land to players. The auction starts at a specified price and gradually decreases until it reaches the floor price or someone makes a bid.


### Bid
Place a bid on land that is currently being auctioned. When bidding, players must specify not only the purchase price but also an amount to stake as security against future tax obligations. The bid will immediately end the auction if successful.

**Key Concepts:**
- The bid price must match the current auction price
- Stake amount must be sufficient to prevent immediate nuking
- Successful bids transfer ownership immediately
- The specified token becomes the trading currency for that land

### Buy
Purchase a land plot directly from another player. This action is used for regular land trading after the initial auction. The buyer must pay the current selling price and provide stake for tax security.

**Important Considerations:**
- Must approve token spending before purchase
- Requires sufficient stake to be provided
- Automatically claims pending taxes for both buyer and seller
- Updates the land's 

### Claim
Collect and generate taxes from neighboring lands. Each land owner can claim taxes that have been generated by their neighbors. Taxes are calculated based on land value and time elapsed.

**Key Points:**
- Can be called at any time
- Automatically processes taxes for all neighboring lands
- trigger nuking of neighboring lands if they lack sufficient stake
- Distributes tax payments in the respective land's tokens

### Increase Price
Update the selling price of your land. Owners can increase their land's selling price at any time, which also affects the tax calculations for neighboring plots.

**Usage Notes:**
- New price must be higher than current price
- Affects future tax calculations
- Doesn't require additional stake

### Increase Stake
Add more stake to your land to prevent it from being nuked. Stake serves as security against tax obligations and must be maintained to keep ownership.

**Important Details:**
- Can be increased at any time
- Protects against nuking
- Stake is locked until land is sold
- Excess stake provides longer protection against nuking

## View Functions Overview

These read-only functions allow you to query the current state of the game from your client application.

### Land Information Functions
- **`get_land(land_location)`** - Get complete land details (owner, price, token, stake amount)
- **`get_neighbors(land_location)`** - Get all 8 neighboring positions (lands, auctions, or empty)
- **`get_neighbors_yield(land_location)`** - Calculate potential earnings from neighboring lands

### Tax & Claiming Functions  
- **`get_next_claim_info(land_location)`** - Show all pending tax claims for a land owner
- **`get_unclaimed_taxes_per_neighbors_total(land_location)`** - Quick total of claimable taxes
- **`get_unclaimed_taxes_per_neighbor(claimer_location, payer_location)`** - Specific neighbor tax amount
- **`get_elapsed_time_since_last_claim(claimer_location, payer_location)`** - Time since last claim

### Risk Management Functions
- **`get_time_to_nuke(land_location)`** - When a land will become vulnerable to nuking
- **`get_elapsed_time_since_last_claim_for_neighbors(payer_location)`** - Claim times for all neighbors

### Auction Functions
- **`get_current_auction_price(land_location)`** - Current decreasing auction price
- **`get_auction(land_location)`** - Complete auction details and status
- **`get_active_auctions()`** - Number of active auctions system-wide


## Practical Applications

### For Players
1. **Regular Monitoring:**
   - Check stake balances daily
   - Monitor pending taxes regularly
   - Track auction prices for desired lands
   - Review land information before transactions

2. **Financial Planning:**
   - Calculate potential tax income
   - Plan stake increases
   - Time tax claims optimally
   - Monitor investment performance

3. **Risk Management:**
   - Track stake requirements
   - Monitor neighbor health
   - Watch auction opportunities
   - Plan tax claim timing
